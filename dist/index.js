var e=require("react"),r=require("@growthbook/growthbook-react"),o=require("url-parse"),t=require("lodash");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=/*#__PURE__*/n(o);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},a.apply(this,arguments)}function s(e,r){return r[e]?r[e]:e}exports.ABCProvider=function(o){var t=o.children,n=o.updateModel,l=o.model,s=(0,o.getModel)(["misc"]).misc,u=s.iamABCTester,i=s.abcEndpoint,c=s.abcSdk,d=s.abcTimeout,p=void 0===d?3e4:d;console.log(u,s.abcScope,c,"[ABCProvider] iamABCTester",s.abcEnable);var f=e.useState(!1),g=f[0],m=f[1],v=e.Children.toArray(t),y=e.useMemo(function(){if(u)return console.log(u,"iamABCTesteriamABCTester useMemo"),new r.GrowthBook({apiHost:i,clientKey:c})},[i,u]);return e.useEffect(function(){u&&l.misc.abcEnable&&y.loadFeatures({timeout:p}).then(function(){m(!0)})},[l.misc.abcEnable,l.misc.iamABCTester]),e.useEffect(function(){g&&(function(){if(u&&l.misc.abcEnable){allFeatures=y.getFeatures(),console.log(u,"evaluateFeatures gbs",allFeatures);var e={};Object.keys(allFeatures).map(function(r){console.log(r,"inside itemmmmmmmz ;) ->>>>>",allFeatures[r]);var o=y.getFeatureValue(r,allFeatures[r].defaultValue);e[r]={defaultValue:allFeatures[r].defaultValue,result:o},console.log(r,o,"inside <<<<<<------ result")}),console.log(e,"done itemmmmmmmz ;) result"),groupedData=function(e){var r={};for(var o in e)if(e.hasOwnProperty(o)){var t=o.split("-"),n=t[0],l=e[o];if(r[n]||(r[n]={}),"api"===n)r[n][l.defaultValue]=l.result;else if("response"===n)r[n]=a({},r[n],l.result);else if("context"===n){var s=t.slice(1).join("-"),u=l.result;console.log(s,u,"contexttttttt"),r=a({},r,u)}}return console.log(r,"yyyyyyyyyyyyyyyyyyyy"),r}(e),console.log("sssssssss group abc abc yasser",groupedData),n(a({},groupedData))}}(),console.log("evaluateFeatures"))},[g,l.misc.iamABCTester]),console.log("NavigationContainer mounted",u),h(r.GrowthBookProvider,{growthbook:y},e.Children.map(v,function(r,o){return console.log(o,"44444444444444"),e.cloneElement(r,{})}))},exports.requestInterceptor=function(e){var r=e.getModel,o=e.request;try{var t,n=(null==(t=r(["api"]))?void 0:t.api)||{},a=r("requests")||{enabled:!1,headers:{},prefix:""};return o.url=s(o.url,n),a.enabled&&(o.url=function(e,r){if(void 0===r&&(r=""),""===r)return e;var o=new l.default(e);return o.pathname="/"+r+(null==o?void 0:o.pathname),console.log("[addQuarantineSegmentToUrl]",o),o.toString()}(o.url,a.prefix)),console.log(a,null==o?void 0:o.headers,null==a?void 0:a.enabled,null==o?void 0:o.url,"[requestInterceptor] details"),o}catch(e){return console.log("[requestInterceptor] error:",e),o}},exports.responseInterceptor=function(e){var r=e.getModel,o=e.response;try{var n,l,a,u=(null==(n=r(["response"]))?void 0:n.response)||{},i=o.config.url;return o=t.merge(o,s(i,u)),console.log("[responseInterceptor] Request URL:",i),console.log("[responseInterceptor] context",null==(l=r(["response"]))?void 0:l.response),console.log("[responseInterceptor] data",null==(a=o)?void 0:a.data),o}catch(e){return console.log("[responseInterceptor]",e),o}};
//# sourceMappingURL=index.js.map
